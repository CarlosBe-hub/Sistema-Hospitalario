extends layout

block content
  h2 Pacientes Inactivos

  a.btn.btn-primary.mb-3(href="/pacientes") Volver a Lista de Activos

  table#tablaInactivos.table.table-striped
    thead
      tr
        th NÂ° Paciente
        th Nombre
        th Apellido
        th DNI
        th Fecha Nac.
        th Estado
        th Acciones
    tbody

  link(rel="stylesheet", href="https://cdn.datatables.net/1.13.6/css/jquery.dataTables.min.css")
  script(src="https://code.jquery.com/jquery-3.6.0.min.js")
  script(src="https://cdn.datatables.net/1.13.6/js/jquery.dataTables.min.js")

  script.
    $(document).ready(function () {
      $('#tablaInactivos').DataTable({
        ajax: '/api/pacientes/inactivos',
        columns: [
          { data: 'id_paciente' },
          { data: 'nombre' },
          { data: 'apellido' },
          { data: 'dni' },
          { data: 'fecha_nacimiento' },
          {
            data: 'estado',
            render: function (estado) {
              return '<span class="badge bg-danger">Inactivo</span>';
            }
          },
          {
            data: 'id_paciente',
            render: function (id) {
              return `
                <form method="POST" action="/pacientes/${id}/restaurar" style="display:inline;">
                  <button type="submit" class="btn btn-sm btn-success">Restaurar</button>
                </form>
              `;
            },
            orderable: false,
            searchable: false
          }
        ],
        language: {
          url: '//cdn.datatables.net/plug-ins/1.13.6/i18n/es-ES.json'
        }
      });
    });